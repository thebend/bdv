(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(e,t,n){e.exports=n(42)},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(10),o=n.n(i),c=n(12),u=n(1),l=n(9),s=n(5),d=n(2),f=n(3),m=n(8),g=n(6),v=["contain","cover","fill","scale-down"],b=function(e,t){return e[(e.indexOf(t)+1)%e.length]},p={fit:v[0],aspect:g[0],playbackRate:{current:1},showThumbnails:{current:!0},muted:{current:!0},triggers:{}},h=Object(m.b)({name:"settings",initialState:p,reducers:{nextAspect:function(e){e.aspect=b(g,e.aspect)},nextFit:function(e){e.fit=b(v,e.fit)},setAspect:function(e,t){var n=t.payload;e.aspect=n},setFit:function(e,t){var n=t.payload;e.fit=n},setPlaybackRate:function(e,t){var n=t.payload;e.playbackRate.current=n},toggleThumbnails:function(e){e.showThumbnails.current=!e.showThumbnails.current},toggleMute:function(e){e.muted.current=!e.muted.current},setTriggers:function(e,t){var n=t.payload;e.triggers=Object(s.a)({},e.triggers,{},n)},clearTrigger:function(e,t){var n=t.payload;e.triggers[n]=void 0},setIn:function(e,t){var n=t.payload;e.triggers.setIn=n},setOut:function(e,t){var n=t.payload;e.triggers.setOut=n}}}),y=h.actions,E=(h.reducer,n(16)),w=n.n(E),O=Object(m.b)({name:"Displays",initialState:[],reducers:{excludeOthers:function(e,t){return[e[t.payload]]},excludeDifferent:function(e,t){var n=e[t.payload].url;return e.filter(function(e){return e.url===n})},remove:function(e,t){var n=t.payload;return[].concat(Object(u.a)(e.slice(0,n)),Object(u.a)(e.slice(n+1)))},copy:function(e,t){var n=t.payload;return[].concat(Object(u.a)(e),[Object(s.a)({},e[n],{settings:Object(s.a)({},e[n].settings),id:w()()})])},add:function(e,t){var n=t.payload,r=n.file,a=n.settings;return[].concat(Object(u.a)(e),[{id:w()(),title:r.name,type:r.type,url:URL.createObjectURL(r),settings:a}])},reorder:function(e,t){var n=t.payload,r=n.src,a=n.dest,i=e;return r>a?[].concat(Object(u.a)(i.slice(0,a)),[i[r]],Object(u.a)(i.slice(a,r)),Object(u.a)(i.slice(r+1))):[].concat(Object(u.a)(i.slice(0,r)),Object(u.a)(i.slice(r+1,a+1)),[i[r]],Object(u.a)(i.slice(a+1)))},update:function(e,t){var n=t.payload,r=n.index,a=n.settings,i=e[r];return[].concat(Object(u.a)(e.slice(0,r)),[Object(s.a)({},i,{},a)],Object(u.a)(e.slice(r+1)))},updateSettings:function(e,t){var n=t.payload,r=n.index,a=n.settings,i=e[r];i.settings=Object(s.a)({},i.settings,{},a)}}}),T=O.actions,k=O.reducer,j=Object(f.combineReducers)({settings:h.reducer,displays:O.reducer}),x=Object(m.a)({reducer:j}),R=x.dispatch,S=c.b,F=function(e){(e.requestFullscreen||e.msRequestFullscreen||e.webkitRequestFullscreen).call(e)},C=document.fullscreenEnabled||document.msFullscreenEnabled||document.webkitFullscreenEnabled,D=(document.exitFullscreen||document.msExitFullscreen||document.webkitExitFullscreen).bind(document);var A=navigator.userAgent.indexOf(" Trident/")>-1?"IE":navigator.userAgent.indexOf(" Edge/")>-1?"Edge":"Chrome",M=["Edge","IE"].indexOf(A)>-1,L={edge:{left:116,right:220,bottom:24},chrome:{left:24,right:24,bottom:16}}["Chrome"===A?"chrome":"edge"],I=function(e){var t=e.src,n=e.offset,r=e.timestamp,i=e.width,o=void 0===i?196:i,c=a.a.useRef(null);return c.current&&(c.current.currentTime=r),a.a.createElement("video",{className:"thumbnail",ref:c,controls:!1,autoPlay:!1,loop:!1,muted:!0,src:t,width:o,style:{left:n-o/2}})},P=10;function W(e){var t=e.offset,n=e.color,r={bottom:L.bottom+P/2,left:L.left+t-P/2};return a.a.createElement("svg",{className:"iomarker",width:P,height:P,viewBox:"0 0 2 2",style:r},a.a.createElement("circle",{cx:1,cy:1,r:1,fill:n}))}var U=function(e){var t=e.inTime,n=e.outTime,r=e.video;if(!t&&!n)return null;var i=r.duration,o=t||0,c=n||i,u=r.width-L.left-L.right,l=o/i*u,s=c/i*u;return a.a.createElement(a.a.Fragment,null,a.a.createElement(W,{offset:l,color:"gold"}),a.a.createElement(W,{offset:s,color:"gold"}))},N=(n(39),L.bottom+8),K=a.a.forwardRef(function(e,t){var n=a.a.useRef(null),r=e.showThumbnail,i=e.display,o=e.size,c=e.objectFit,u=e.handles,l=e.buttons,s=i.title,f=i.url,m=i.settings,g=i.outTime,v=i.inTime,b=u.load,p=u.dragStart,h=u.error,y=u.mouseOver,E=u.mouseOut,w=u.buttonPress,O=a.a.useState(),T=Object(d.a)(O,2),k=T[0],j=T[1],x=a.a.useState(),R=Object(d.a)(x,2),S=R[0],C=R[1];a.a.useEffect(function(){n.current.muted=m.muted.current},[m.muted]),a.a.useEffect(function(){m.currentTime&&(n.current.currentTime=m.currentTime.current)},[m.currentTime]),a.a.useEffect(function(){n.current.playbackRate=m.playbackRate},[m.playbackRate]);var D=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=n.current;t&&(e=r.duration*e),r.currentTime=(r.currentTime+e+r.duration)%r.duration},P={arrowleft:function(){return D(-.1,!0)},arrowright:function(){return D(.1,!0)},f:function(){return F(n.current)}},W={m:function(){n.current.muted=!n.current.muted},arrowleft:function(){return D(-60)},arrowright:function(){return D(60)}};return a.a.createElement("div",{className:"display",onMouseOver:y,onMouseMove:function(e){k&&clearTimeout(k),j(setTimeout(function(){return j(void 0)},4e3));var t=n.current;if(r&&"IE"!==A){var a=e.nativeEvent,i=a.layerX,o=a.layerY;if(t.height-o>N)return C(void 0);var c=t.width-L.left-L.right,u=(i-L.left)/c;if(u<0||u>1)return C(void 0);var l=t.duration*u;C({offset:i,timestamp:l})}},onMouseOut:function(){C(void 0),E()},onKeyDown:function(e){return t=e.shiftKey?P:W,(n=e.key.toLowerCase())in t&&t[n]();var t,n}},n.current&&k&&a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"display-border",style:{pointerEvents:M?"none":"auto"}},s,1!==n.current.playbackRate?" (".concat(n.current.playbackRate.toFixed(2),"x)"):""),a.a.createElement("div",{className:"display-controls"},l.map(function(e){var t=e.label,n=e.action;return a.a.createElement("button",{key:t,onClick:function(){return w(n)}},t)})),a.a.createElement(U,{inTime:v,outTime:g,video:n.current})),r&&S&&a.a.createElement(I,Object.assign({src:f},S)),a.a.createElement("video",Object.assign({ref:function(e){n.current=e,"function"===typeof t?t(e):null!==t&&(t.current=e)},controls:!0,autoPlay:!0,loop:!0,muted:!0,onError:h,onLoadedData:function(){var e=n.current;e.currentTime<1&&(e.currentTime=e.duration/2)},onLoadedMetadata:b,onTimeUpdate:g||v?function(){var e=n.current;g&&g<e.currentTime&&(e.currentTime=v||0)}:void 0,onDragStart:function(e){e.target.height-e.offsetY<80?e.preventDefault():p()},src:f,draggable:!M},o,{style:{objectFit:c}})))}),q=(n(40),function(e){var t=e.value,n=e.callback,r=e.onText,i=e.offText;return a.a.createElement("button",{onClick:function(e){e.preventDefault(),n()}},t?r:i)}),z=a.a.createElement("section",{id:"shortcuts"},a.a.createElement("h2",null,"Shortcuts"),a.a.createElement("ol",null,[["C","Clone video (+1m)"],["D","Distribute times"],["E","Remove everything else"],["F","Toggle fullscreen"],["Shift+F","Fullscreen video"],["H","Toggle help"],["I","Toggle in point"],["O","Toggle out point"],["M","Toggle mute"],["R","Remove video"],["S","Change video scaling"],["X","Change aspect ratio"],["\u2190 \u2192","Skip 1m"],["Shift \u2190 \u2192","Skip 10%"],["Ctrl \u2190 \u2192","Change speed"],["Ctrl+W","Close tab"],["O,O","Restart video"],["1-9","Fill 2-9 size grid"],["Drag+Drop","Reorder videos"]].map(function(e){var t=Object(d.a)(e,2),n=t[0],r=t[1];return a.a.createElement("li",{key:n},a.a.createElement("em",null,n,":")," ",r)}))),H=a.a.createElement("footer",null,a.a.createElement("h2",null,"Privacy Disclaimer"),a.a.createElement("p",null,"This tool records ",a.a.createElement("b",null,"no")," filenames, screen grabs, or any other methods of identifying the actual contents of any video.  Only metadata about a video's format (codec, file size, resolution, and duration) may be recorded."));function B(e){var t=e.name,n=e.label,r=e.value,i=e.choices,o=e.callback;return a.a.createElement(a.a.Fragment,null,a.a.createElement("label",{htmlFor:t},n),a.a.createElement("select",{name:t,value:r,onChange:function(e){return o(e.target.value)}},i))}var V=function(){var e=S(function(e){return e.settings}),t=e.aspect,n=e.fit,r=e.playbackRate.current,i=e.showThumbnails.current,o=e.muted.current;return a.a.createElement("section",{id:"help"},a.a.createElement("h2",null,"Usage"),a.a.createElement("p",null,"Drag and drop any number of videos to auto-play in an optimally arranged grid."),a.a.createElement("section",{id:"settings"},a.a.createElement("h2",null,"Settings"),a.a.createElement("form",null,a.a.createElement(B,{name:"objectScale",label:"Video Fit/Fill",value:n,choices:v.map(function(e){return a.a.createElement("option",{key:e,value:e},e[0].toUpperCase()+e.substr(1))}),callback:function(e){return R(y.setFit(e))}}),a.a.createElement("br",null),a.a.createElement(B,{name:"aspectRatio",label:"Aspect Ratio",value:g.indexOf(t).toString(),choices:g.map(function(e,t){return a.a.createElement("option",{key:t,value:t},e.name)}),callback:function(e){return R(y.setAspect(g[parseInt(e)]))}}),a.a.createElement("br",null),a.a.createElement("div",null,"Playback Rate: ",a.a.createElement("button",{onClick:function(e){e.preventDefault(),R(y.setPlaybackRate(r/2))}},"-"),r.toFixed(2),a.a.createElement("button",{onClick:function(e){e.preventDefault(),R(y.setPlaybackRate(2*r))}},"+")),a.a.createElement(q,{value:i,callback:function(){return R(y.toggleThumbnails())},onText:"Disable Thumbs",offText:"Enable Thumbs"}),a.a.createElement("br",null),a.a.createElement(q,{value:o,callback:function(){return R(y.toggleMute())},onText:"Unmute",offText:"Mute"}),a.a.createElement("br",null))),z,H)},X=function(e){var t=e.errors,n=e.onClose;return a.a.createElement("section",{id:"errors"},a.a.createElement("h2",null,"Errors"),a.a.createElement("ol",null,t.map(function(e){var t=e.id,n=e.title,r=e.type;return a.a.createElement("li",{key:t},n," (",r,")")})),a.a.createElement("p",null,"Only videos supported by your web browser will play successfully.  ",a.a.createElement("code",null,".mp4")," and ",a.a.createElement("code",null,".webm")," files are good bets."),a.a.createElement("form",{onSubmit:n},a.a.createElement("button",null,"Dismiss")))};function J(){return a.a.createElement("section",{id:"splash"},a.a.createElement("p",null,"Auto-play any number of videos or copies of videos in an optimally arranged grid with simple drag-and-drop.  Videos start half-way in and loop, ensuring immediate, continuous immersion, great for scouring surveillance footage, finding the best highlights from your last gaming stream, and more!"),a.a.createElement("p",null,"Find your favourite moments quickly with thumbnail scrubbing and keyboard shortcuts to jump ahead in time 1m (\u2192) or 10% (Shift \u2192), or adjust playback speed (Ctrl \u2192)."),a.a.createElement("p",null,"Use shortcut keys to rapidly (c)opy or (r)emove displays, set (i)n/(o)ut loop points, (f)ullscreen the display, toggle (m)ute, etc."))}n(41);var Y=function(e){e.preventDefault(),e.stopPropagation()};document.addEventListener("dragover",Y),document.addEventListener("dragenter",Y),document.addEventListener("dragleave",Y);var $=function(e,t){return e.currentTime+e.duration*t},G=function(){var e=function(){var e=a.a.useState({}),t=Object(d.a)(e,2),n=t[0],r=t[1];return a.a.useCallback(function(e){if(e in n)return n[e];var t=a.a.createRef();return r(Object(s.a)({},n,Object(l.a)({},e,t))),t},[n])}(),t=a.a.useReducer(k,[]),n=Object(d.a)(t,2),r=n[0],i=n[1],o=S(function(e){return e.settings}),c=o.aspect,f=o.fit,m=o.showThumbnails,v=o.playbackRate,b=o.muted,p=o.triggers,h=p.distributeTimes,E=p.setIn,w=p.setOut,O=a.a.useState(null),j=Object(d.a)(O,2),x=j[0],A=j[1],M=a.a.useState([]),L=Object(d.a)(M,2),I=L[0],P=L[1],W=a.a.useState(!0),U=Object(d.a)(W,2),N=U[0],q=U[1],z=a.a.useState(),H=Object(d.a)(z,2),B=H[0],G=H[1],Q=a.a.useRef(null),Z=a.a.useState({width:1,height:1}),_=Object(d.a)(Z,2),ee=_[0],te=_[1],ne=function(e){(e.type.startsWith("settings/")?R:i)(e)};a.a.useEffect(function(){var t=h;if(void 0!==t){var n=r[t],a=n.id,i=n.url,o=e(a).current;if(o){var c=r.filter(function(e){return e.url===i}),l=[n].concat(Object(u.a)(c.slice(t+1)),Object(u.a)(c.slice(0,t))),s=o.currentTime,d=n.inTime||0,f=(n.outTime||o.duration)-d,m=f/l.length;l.forEach(function(t,n){var r=s+m*n;e(t.id).current.currentTime=r%f+d}),R(y.clearTrigger("distributeTimes"))}}},[h]);var re=function(t,n,a){if(void 0!==t){var o=r[t],c=void 0===o[n]?e(o.id).current.currentTime:void 0;i(T.update({index:t,settings:Object(l.a)({},n,c)})),R(y.clearTrigger(a))}};a.a.useEffect(function(){re(E,"inTime","setIn")},[E]),a.a.useEffect(function(){re(w,"outTime","setOut")},[w]);var ae=a.a.useMemo(function(){return{f:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body;C&&(document.fullscreenElement||document.msFullscreenElement||document.webkitFullscreenElement?D():F(e))}()},h:function(){return q(!N)},s:y.nextFit(),t:y.toggleThumbnails(),x:y.nextAspect()}},[N]);a.a.useEffect(function(){var e=function(){var e=Q.current;te({width:e.clientWidth,height:e.clientHeight})};window.addEventListener("resize",e),e()},[]),a.a.useEffect(function(){r.forEach(function(e,t){return i(T.updateSettings({index:t,settings:{playbackRate:v.current}}))})},[v]),a.a.useEffect(function(){r.forEach(function(e,t){return i(T.updateSettings({index:t,settings:{muted:b}}))})},[b]),a.a.useEffect(function(){var t=function(t){var n=t.key.toLowerCase();if(n in ae&&!t.shiftKey&&!t.ctrlKey){var a=ae[n];return"function"===typeof a?a():R(a)}var o=x;if(null!==o){var c={arrowleft:T.updateSettings({index:o,settings:{playbackRate:r[o].settings.playbackRate/2}}),arrowright:T.updateSettings({index:o,settings:{playbackRate:2*r[o].settings.playbackRate}})},u={arrowleft:T.updateSettings({index:o,settings:{currentTime:{current:$(e(r[o].id).current,-.1)}}}),arrowright:T.updateSettings({index:o,settings:{currentTime:{current:$(e(r[o].id).current,.1)}}})},l={delete:T.remove(o),r:T.remove(o),c:T.copy(o),d:y.setTriggers({distributeTimes:o}),e:T.excludeOthers(o),i:y.setIn(o),o:y.setOut(o)};if(t.shiftKey)n in u&&i(u[n]);else if(t.ctrlKey)n in c&&i(c[n]);else if(n in l){var s=l[n];(s.type.startsWith("settings/")?R:i)(s)}else if(n>="1"&&n<="9"){var d=T.copy(o);Array(parseInt(n)).fill(null).forEach(function(){return i(d)}),R(y.setTriggers({distributeTimes:o}))}}};return window.addEventListener("keydown",t),function(){return window.removeEventListener("keydown",t)}},[r,x,ae,e]),a.a.useEffect(function(){var e=function(e){Y(e),e.dataTransfer&&(Array.from(e.dataTransfer.files).map(function(e){return i(T.add({file:e,settings:{muted:b,playbackRate:v.current}}))}),q(!1))};return document.addEventListener("drop",e),function(){return document.removeEventListener("drop",e)}},[b,v]);var ie=a.a.useMemo(function(){return function(e,t,n){for(var r=0,a=0,i=0,o=1;o<=t;o++){var c=Math.ceil(t/o),u=Math.floor(n.width/c),l=Math.floor(n.height/o),s=u,d=l;e>u/l?d=s/e:s=d*e;var f=s*d;f<r||(r=f,a=u,i=l)}return{width:a,height:i}}(c.ratio,r.length,ee)},[c,r,ee]);return a.a.createElement(a.a.Fragment,null,a.a.createElement("main",{ref:Q,onDrop:function(t){B&&i(T.reorder({src:r.indexOf(B),dest:r.findIndex(function(n){return e(n.id).current===t.target})||r.length-1}))}},0===r.length&&a.a.createElement(J,null),r.map(function(t,n){return a.a.createElement(K,{key:t.id,ref:e(t.id),size:ie,objectFit:f,display:t,showThumbnail:m.current,handles:{load:function(){return R(y.setAspect(function(){var t,n=(t=r.map(function(t){var n=e(t.id).current;return n.videoWidth/n.videoHeight})).reduce(function(e,t){return e+t},0)/t.length;return Object(u.a)(g).sort(function(e,t){return Math.abs(n-t.ratio)-Math.abs(n-e.ratio)}).pop()}()))},dragStart:function(){return G(t)},error:function(){return P([].concat(Object(u.a)(I),[t]))},mouseOver:function(){return A(n)},mouseOut:function(){return A(null)},buttonPress:ne},buttons:[{label:"X",action:T.remove(n)},{label:"C",action:T.copy(n)},{label:"E",action:T.excludeOthers(n)},{label:"M",action:T.updateSettings({index:n,settings:{muted:{current:!t.settings.muted.current}}})},{label:"I",action:y.setIn(n)},{label:"O",action:y.setOut(n)},{label:"\xbb",action:T.updateSettings({index:n,settings:{playbackRate:2*t.settings.playbackRate}})},{label:"\xab",action:T.updateSettings({index:n,settings:{playbackRate:t.settings.playbackRate/2}})}]})})),I.length>0&&a.a.createElement(X,{errors:I,onClose:function(){return P([])}}),N&&a.a.createElement(V,null))},Q=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Z(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}o.a.render(a.a.createElement(c.a,{store:x},a.a.createElement(G,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/service-worker.js");Q?(function(e,t){fetch(e).then(function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Z(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):Z(t,e)})}}()},6:function(e){e.exports=[{ratio:1.7777777777777777,name:"16:9 (High Def)"},{ratio:1.3333333333333333,name:"4:3 (Standard Def)"},{ratio:1,name:"1:1 (Square)"},{ratio:.5625,name:"9:16 (Vertical HD)"},{ratio:1.85,name:"1.85:1 (Cinematic)"},{ratio:2.35,name:"2.35:1 (Anamorphic)"}]}},[[22,1,2]]]);
//# sourceMappingURL=main.6ab9448f.chunk.js.map